# Tactical Trend Trader (3T) - v0.1.0 Release Review & Backlog

This document synthesizes findings from a thorough review of the v0.1.0 release, incorporating existing roadmap items, technical debt, and urgent bug fixes.

## ðŸš¨ Urgent Issues (High Priority)

### 1. Order Gateway "Post-Only" Market Order Bug
*   **File**: `components/src/order_gateway.py`
*   **Issue**: The order execution logic uses `type="limit"` and `timeInForce="Alo"` (Post-Only) while the documentation and intent describe it as a "Market Order".
*   **Impact**: Orders that would cross the spread (necessary for immediate execution in volatile markets) will be rejected by the exchange. This can lead to reconciliation failure and "stuck" positions.
*   **Fix**: Change `type` to `"market"` (or use a proper limit order without `Alo` if slippage protection is desired) and remove `timeInForce="Alo"`.

### 2. Hardcoded Non-Crypto Market Hours
*   **File**: `celery-services/worker/reconciliation_engine.py`
*   **Issue**: The `is_market_open()` function implements Vatican City business hours (Mon-Fri) and holidays.
*   **Impact**: The reconciliation engine (the "brain") will stop functioning on weekends. Cryptocurrency markets are 24/7.
*   **Fix**: Update `is_market_open()` to return `True` for crypto symbols or remove the check for 24/7 assets.

### 3. Destructive Database Initialization
*   **File**: `database/init.sql`
*   **Issue**: The script contains `DROP TABLE IF EXISTS` for core tables.
*   **Impact**: Any accidental re-run of the initialization (e.g., via an automated setup script) will wipe all trading history, positions, and run states.
*   **Fix**: Remove `DROP TABLE` statements or wrap them in a safety flag.

## ðŸ›  Technical Debt

### 1. MySQL Connection Management
*   **File**: `shared/database.py`
*   **Observation**: The system explicitly avoids connection pooling.
*   **Risk**: As the worker pool scales (e.g., to 512 concurrent workers mentioned in README), the system may hit MariaDB's `max_connections` limit or experience latency from constant handshaking.

### 2. Observability Over-Sampling
*   **File**: `config.yml.example`
*   **Observation**: The default sampling rate is extremely low (`0.00000001`).
*   **Risk**: While it prevents flooding, it makes debugging rare issues nearly impossible as traces for failed iterations will almost never be captured.

### 3. Static Market Hours Logic
*   **Observation**: Market hours are hardcoded in Python logic rather than being configuration-driven per instrument.

## ðŸ“‹ Synthesized Backlog (Open Items)

This list combines items from the official Roadmap, active development branches, and the v0.1.0 review.

### Architecture & Infrastructure
- [ ] **Issue #13**: Fix Proxy Failover logic in Order Gateway.
- [ ] **Issue #4**: Fix CI/CD pipeline failures (GitHub Actions).
- [ ] **Database**: Implement a formal migration system (e.g., Alembic) to replace manual SQL updates.
- [ ] **Scaling**: Evaluate Redis-based locking vs. Database locking for task idempotency.

### Trading Engine (Providence)
- [ ] **GEM-5**: Implement Take Profit Resilience (handling restarts during TP events).
- [ ] **Clonal Adaptation**: Refine the evolutionary search parameters based on `analyze_ann_params.py` findings.
- [ ] **Risk Model**: Implement the "Risk Model Money Management" allocation logic (from feature branch).

### Feature Roadmap
- [ ] **Expanded Exchange Support**: Add support beyond HyperLiquid (Binance, Bybit).
- [ ] **Advanced Analytics**: Integrate ML models for signal filtering (Regime detection).
- [ ] **Real-time Portfolio Management**: Enhanced dashboard for multi-account tracking.

---
*Generated by Jules (AI Assistant) during v0.1.0 Review.*
